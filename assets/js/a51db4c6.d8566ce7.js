"use strict";(self.webpackChunkdongdong_12138_github_io=self.webpackChunkdongdong_12138_github_io||[]).push([[5874],{9534:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var i=s(5893),l=s(1151);const r={},t="\u7cef\u7c73 UI",o={id:"projects/nuomi-ui-vue",title:"\u7cef\u7c73 UI",description:"\u5141\u8bb8 vue \u7ec4\u4ef6\u540d\u4e3a\u5355\u4e2a\u5355\u8bcd",source:"@site/docs/projects/nuomi-ui-vue.md",sourceDirName:"projects",slug:"/projects/nuomi-ui-vue",permalink:"/docs/projects/nuomi-ui-vue",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/projects/nuomi-ui-vue.md",tags:[],version:"current",frontMatter:{},sidebar:"projects",previous:{title:"\u5c0f\u7a0b\u5e8f-\u4e91\u97f3\u4e50",permalink:"/docs/projects/miniprogram-music"},next:{title:"VisualFlow",permalink:"/docs/projects/visual-flow"}},d={},c=[{value:"\u5141\u8bb8 vue \u7ec4\u4ef6\u540d\u4e3a\u5355\u4e2a\u5355\u8bcd",id:"\u5141\u8bb8-vue-\u7ec4\u4ef6\u540d\u4e3a\u5355\u4e2a\u5355\u8bcd",level:2},{value:"\u7f51\u9875\u5b57\u4f53\u8bbe\u7f6e",id:"\u7f51\u9875\u5b57\u4f53\u8bbe\u7f6e",level:2},{value:"Vue2 \u548c Vue3 \u7684\u533a\u522b",id:"vue2-\u548c-vue3-\u7684\u533a\u522b",level:2},{value:"\u6279\u91cf\u7ed1\u5b9a\u5c5e\u6027",id:"\u6279\u91cf\u7ed1\u5b9a\u5c5e\u6027",level:2},{value:"UI \u5e93\u7684 CSS \u4e0d\u80fd\u6dfb\u52a0 scoped",id:"ui-\u5e93\u7684-css-\u4e0d\u80fd\u6dfb\u52a0-scoped",level:2},{value:"CSS \u6700\u5c0f\u5f71\u54cd\u539f\u5219",id:"css-\u6700\u5c0f\u5f71\u54cd\u539f\u5219",level:2},{value:"\u4f7f\u7528 JS \u7684\u65b9\u5f0f\u6253\u5f00 Dialog",id:"\u4f7f\u7528-js-\u7684\u65b9\u5f0f\u6253\u5f00-dialog",level:2},{value:"useSlots",id:"useslots",level:2},{value:"ref \u590d\u6742\u5199\u6cd5",id:"ref-\u590d\u6742\u5199\u6cd5",level:2},{value:"\u52a8\u6001\u7ec4\u4ef6\u7ed1\u5b9a key",id:"\u52a8\u6001\u7ec4\u4ef6\u7ed1\u5b9a-key",level:2},{value:"\u5706\u5f27\u6548\u679c",id:"\u5706\u5f27\u6548\u679c",level:2},{value:"\u4ee3\u7801\u9ad8\u4eae",id:"\u4ee3\u7801\u9ad8\u4eae",level:2},{value:"build \u4e4b\u540e\u4e0d\u52a0\u8f7d md \u6587\u4ef6",id:"build-\u4e4b\u540e\u4e0d\u52a0\u8f7d-md-\u6587\u4ef6",level:2},{value:"\u90e8\u7f72\u5230 Github gh-pages \u5206\u652f",id:"\u90e8\u7f72\u5230-github-gh-pages-\u5206\u652f",level:2},{value:"\u5f15\u5165 Github \u7684 markdown \u6837\u5f0f",id:"\u5f15\u5165-github-\u7684-markdown-\u6837\u5f0f",level:2},{value:"\u652f\u6301\u5f15\u5165 markdown \u6587\u4ef6",id:"\u652f\u6301\u5f15\u5165-markdown-\u6587\u4ef6",level:2},{value:"\u5173\u4e8e Vite",id:"\u5173\u4e8e-vite",level:2},{value:"markdown \u6587\u4ef6\u7684\u7c7b\u578b\u58f0\u660e",id:"markdown-\u6587\u4ef6\u7684\u7c7b\u578b\u58f0\u660e",level:2},{value:"\u5c55\u793a\u6e90\u4ee3\u7801",id:"\u5c55\u793a\u6e90\u4ee3\u7801",level:2},{value:"\u4f7f\u7528 rollup \u6253\u5305\u5e93\u6587\u4ef6\uff08UI \u7ec4\u4ef6\uff09",id:"\u4f7f\u7528-rollup-\u6253\u5305\u5e93\u6587\u4ef6ui-\u7ec4\u4ef6",level:2},{value:"Vue2 \u9879\u76ee\u5347\u7ea7\u5230 Vue3",id:"vue2-\u9879\u76ee\u5347\u7ea7\u5230-vue3",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"\u7cef\u7c73-ui",children:"\u7cef\u7c73 UI"}),"\n",(0,i.jsx)(e.h2,{id:"\u5141\u8bb8-vue-\u7ec4\u4ef6\u540d\u4e3a\u5355\u4e2a\u5355\u8bcd",children:"\u5141\u8bb8 vue \u7ec4\u4ef6\u540d\u4e3a\u5355\u4e2a\u5355\u8bcd"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",metastring:'title=".eslintrc.cjs"',children:"module.exports = {\n  // ...\n  rules: {\n    'vue/multi-word-component-names': 'off',\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u7f51\u9875\u5b57\u4f53\u8bbe\u7f6e",children:"\u7f51\u9875\u5b57\u4f53\u8bbe\u7f6e"}),"\n",(0,i.jsxs)(e.p,{children:["\u8be6\u89c1\uff1a",(0,i.jsx)(e.a,{href:"https://github.com/zenozeng/fonts.css/",children:"Fonts.css -- \u8de8\u5e73\u53f0\u4e2d\u6587\u5b57\u4f53\u89e3\u51b3\u65b9\u6848"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",children:'body {\n  font-size: 16px;\n  font-family: -apple-system, "Noto Sans", "Helvetica Neue", Helvetica, "Nimbus Sans L", Arial, "Liberation Sans", "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", "Source Han Sans SC", "Source Han Sans CN", "Microsoft YaHei", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimHei, "WenQuanYi Zen Hei Sharp", sans-serif;\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"vue2-\u548c-vue3-\u7684\u533a\u522b",children:"Vue2 \u548c Vue3 \u7684\u533a\u522b"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u65b0 v-model \u4ee3\u66ff\u4ee5\u524d\u7684 v-model \u548c .sync"}),"\n",(0,i.jsx)(e.li,{children:"defineProps\u3001defineEmits"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u6279\u91cf\u7ed1\u5b9a\u5c5e\u6027",children:"\u6279\u91cf\u7ed1\u5b9a\u5c5e\u6027"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",metastring:'title="\u5168\u90fd\u7ed1\u5b9a\u5230\u4e00\u4e2a\u5143\u7d20\u4e0a"',children:'<template>\n  <button v-bind="$attrs">click me</button>\n</template>\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",metastring:'title="\u5206\u5f00\u7ed1\u5b9a\u5230\u4e24\u4e2a\u5143\u7d20\u4e0a"',children:'<template>\n  <div :size="size" :level="level">\n    <button v-bind="rest">click me</button>\n  </div>\n</template>\n\n<script setup>\nimport { useAttrs } from \'vue\'\n\nconst attrs = useAttrs()\nconst { size, level, ...rest } = attrs\n<\/script>\n'})}),"\n",(0,i.jsx)(e.h2,{id:"ui-\u5e93\u7684-css-\u4e0d\u80fd\u6dfb\u52a0-scoped",children:"UI \u5e93\u7684 CSS \u4e0d\u80fd\u6dfb\u52a0 scoped"}),"\n",(0,i.jsx)(e.p,{children:"\u56e0\u4e3a data-v-xxx \u4e2d\u7684 xxx \u6bcf\u6b21\u8fd0\u884c\u53ef\u80fd\u4f1a\u53d8\uff0c\u5fc5\u987b\u8f93\u51fa\u7a33\u5b9a\u4e0d\u53d8\u7684 class \u9009\u62e9\u5668\uff0c\u65b9\u4fbf\u4f7f\u7528\u8005\u8986\u76d6\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"css-\u6700\u5c0f\u5f71\u54cd\u539f\u5219",children:"CSS \u6700\u5c0f\u5f71\u54cd\u539f\u5219"}),"\n",(0,i.jsx)(e.p,{children:"\u5e93\u7684 CSS \u4e00\u5b9a\u4e0d\u8981\u5f71\u54cd\u5230\u4f7f\u7528\u8005\u7684 CSS\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6bd4\u5982\uff0c\u5e93\u7684 CSS \u9700\u8981\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff0c\u4e8e\u662f\u521b\u5efa\u4e86 gulu.css \u4f9b\u4f7f\u7528\u8005\u5f15\u5165\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",metastring:'title="gulu.css"',children:"* { margin: 0; padding: 0; box-sizing: border-box; }\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e00\u65e6\u5e93\u7684\u4f7f\u7528\u8005\u5f15\u5165\u4e86 gulu.css\uff0c\u90a3\u4e48\u5c31\u76f8\u5f53\u4e8e\u4f7f\u7528\u4e86\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\uff0c\u5f71\u54cd\u4e86\u4f7f\u7528\u8005\u7684\u6837\u5f0f\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6240\u4ee5 gulu.css \u53ef\u4ee5\u6539\u5199\u6210\u4e0b\u9762\u8fd9\u6837\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",metastring:'title="gulu.css"',children:'[class^="gulu-"], [class*=" gulu-"] {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-size: 16px;\n  font-family: -apple-system, "Noto Sans", "Helvetica Neue",\n  Helvetica, "Nimbus Sans L", Arial, "Liberation Sans", "PingFang SC",\n  "Hiragino Sans GB", "Noto Sans CJK SC", "Source Han Sans SC",\n  "Source Han Sans CN", "Microsoft YaHei", "Wenquanyi Micro Hei",\n  "WenQuanYi Zen Hei", "ST Heiti", SimHei, "WenQuanYi Zen Hei Sharp", sans-serif;\n}\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u4ee5\u4e0a\u4ee3\u7801\uff0c\u53ea\u5f71\u54cd\u4e86 class \u4e3a ",(0,i.jsx)(e.code,{children:"gulu-"})," \u5f00\u5934\u6216 class \u4e2d\u5305\u542b\u4e86 ",(0,i.jsx)(e.code,{children:" gulu-"})," \u7684\u9009\u62e9\u5668\u7684\u6837\u5f0f\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u4f7f\u7528-js-\u7684\u65b9\u5f0f\u6253\u5f00-dialog",children:"\u4f7f\u7528 JS \u7684\u65b9\u5f0f\u6253\u5f00 Dialog"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"import { createApp, h } from 'vue';\nimport Dialog from './Dialog.vue';\n\nexport const openDialog = options => {\n  const { title, content, ok, cancel } = options;\n  const div = document.createElement('div');\n  document.body.appendChild(div);\n  const close = () => {\n    app.unmount(div);\n    div.remove();\n  };\n  const app = createApp({\n    render() {\n      return h(\n        Dialog,\n        {\n          visible: true,\n          'onUpdate:visible': (newVisible) => {\n            if (newVisible === false) {\n              close();\n            }\n          },\n          ok,\n          cancel,\n        },\n        { title, content }\n      );\n    },\n  });\n  app.mount(div);\n};\n"})}),"\n",(0,i.jsx)(e.h2,{id:"useslots",children:"useSlots"}),"\n",(0,i.jsxs)(e.p,{children:["\u95ee\u9898\uff1a\u5982\u4f55\u786e\u8ba4\u5b50\u7ec4\u4ef6\u7684\u7c7b\u578b\uff1f\u6bd4\u5982\uff0c\u5982\u4f55\u786e\u5b9a ",(0,i.jsx)(e.code,{children:"Tabs"})," \u7ec4\u4ef6\u7684\u5b50\u7ec4\u4ef6\u4e00\u5b9a\u662f ",(0,i.jsx)(e.code,{children:"Tab"})," \u7ec4\u4ef6\uff1f"]}),"\n",(0,i.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,i.jsx)(e.code,{children:"useSlots()"})," \u53ef\u4ee5\u83b7\u53d6\u7ec4\u4ef6\u5916\u90e8\u4f20\u9012\u7684\u63d2\u69fd\u5185\u5bb9\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"import { useSlots } from 'vue';\nimport Tab from './Tab.vue';\n\nconst slots = useSlots();\nconst defaults = slots.default?.();   // slots.default \u662f\u4e00\u4e2a\u51fd\u6570\nconsole.log('defaults:', defaults);\n\nif (defaults) {\n  defaults.forEach(tag => {\n    if (tag.type !== Tab) {   // type \u5c5e\u6027\u7684\u503c\u5c31\u662f\u6bcf\u4e2a\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61\n      throw new Error('Tabs \u5b50\u6807\u7b7e\u5fc5\u987b\u662f Tab');\n    }\n  });\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"img.png",src:s(8972).Z+"",width:"741",height:"698"})}),"\n",(0,i.jsx)(e.h2,{id:"ref-\u590d\u6742\u5199\u6cd5",children:"ref \u590d\u6742\u5199\u6cd5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<div\n  v-for="(itemTitle, index) in titles" :key="index"\n  :ref="\n    (el) => {\n      if (itemTitle === selected) selectedItem = el;\n    }\n  "\n  :class="{ selected: itemTitle === selected }" class="gulu-tabs-nav-item"\n  @click="select(itemTitle)"\n>\n  {{ itemTitle }}\n</div>\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u52a8\u6001\u7ec4\u4ef6\u7ed1\u5b9a-key",children:"\u52a8\u6001\u7ec4\u4ef6\u7ed1\u5b9a key"}),"\n",(0,i.jsxs)(e.p,{children:["\u5f53\u4f7f\u7528 ",(0,i.jsx)(e.code,{children:'<component :is="vnode">'})," \u5e76\u4e14\u4f20\u9012\u76f8\u540c\u7c7b\u578b\u7684 vnode \u65f6\uff0c\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u552f\u4e00\u7684 ",(0,i.jsx)(e.code,{children:"key"})," \u5c5e\u6027\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u5728 Vue \u4e2d\uff0c",(0,i.jsx)(e.code,{children:"<component>"})," \u5143\u7d20\u53ef\u4ee5\u6839\u636e\u52a8\u6001\u7684 ",(0,i.jsx)(e.code,{children:"is"})," \u5c5e\u6027\u6765\u6e32\u67d3\u4e0d\u540c\u7684\u7ec4\u4ef6\u3002\u5f53\u4f60\u5728\u7236\u7ec4\u4ef6\u4e2d\u901a\u8fc7 ",(0,i.jsx)(e.code,{children:":is"})," \u7ed1\u5b9a\u4e00\u4e2a vnode\uff0c\u5e76\u4e14\u8fd9\u4e2a vnode \u7684\u7c7b\u578b\u4e0e\u4e4b\u524d\u5df2\u7ecf\u6e32\u67d3\u8fc7\u7684 vnode \u7c7b\u578b\u76f8\u540c\uff0cVue \u4f1a\u590d\u7528\u4e4b\u524d\u5df2\u7ecf\u751f\u6210\u7684\u7ec4\u4ef6\u5b9e\u4f8b\u3002\u7136\u800c\uff0c\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u552f\u4e00\u7684 key \u5c5e\u6027\uff0cVue \u65e0\u6cd5\u6b63\u786e\u8bc6\u522b\u548c\u8ddf\u8e2a\u8fd9\u4e2a vnode\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6e32\u67d3\u9519\u8bef\u6216\u51fa\u73b0\u610f\u6599\u4e4b\u5916\u7684\u884c\u4e3a\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<component :is="current" :key="current.props.title" />\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u5706\u5f27\u6548\u679c",children:"\u5706\u5f27\u6548\u679c"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",metastring:'title="border-radius"',children:"div {\n  border-radius: 100px 40px; \n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-css",metastring:'title="clip-path"',children:"div {\n  clip-path: ellipse(80% 60% at 50% 40%); \n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u4ee3\u7801\u9ad8\u4eae",children:"\u4ee3\u7801\u9ad8\u4eae"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.cnblogs.com/cosmicbison/p/17406155.html",children:"\u5982\u4f55\u7528vite\u7684vueCustomBlockTransforms\uff08\u81ea\u5b9a\u4e49\u5757\u8f6c\u6362\uff09\u5b9e\u73b0\u6e90\u4ee3\u7801\u5c55\u793a "})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"build-\u4e4b\u540e\u4e0d\u52a0\u8f7d-md-\u6587\u4ef6",children:"build \u4e4b\u540e\u4e0d\u52a0\u8f7d md \u6587\u4ef6"}),"\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u662f\u56e0\u4e3a build \u7684\u65f6\u5019\u7528\u7684\u662f rollup\uff0crollup \u4e0d\u652f\u6301 ",(0,i.jsx)(e.code,{children:"import()"})," \u65f6\u62fc\u63a5\u5b57\u7b26\u4e32\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u90e8\u7f72\u5230-github-gh-pages-\u5206\u652f",children:"\u90e8\u7f72\u5230 Github gh-pages \u5206\u652f"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://juejin.cn/post/7288609174124331023",children:"github\u4f7f\u7528gh-pages\u90e8\u7f72\u9759\u6001\u7ad9\u70b9"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://blog.csdn.net/KimBing/article/details/130085256",children:"Vue3 vite build \u4e4b\u540e\u4e0d\u663e\u793a\u9875\u9762\u5185\u5bb9\uff0c\u53ea\u663e\u793a\u7a7a\u767d\uff0c\u4e5f\u6ca1\u6709\u62a5\u9519\u5982\u4f55\u89e3\u51b3"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u5f15\u5165-github-\u7684-markdown-\u6837\u5f0f",children:"\u5f15\u5165 Github \u7684 markdown \u6837\u5f0f"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u5b89\u88c5 ",(0,i.jsx)(e.a,{href:"https://github.com/sindresorhus/github-markdown-css",children:"github-markdown-css"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"npm install github-markdown-css\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728 main.ts \u4e2d\u5f15\u5165"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="main.ts"',children:"import 'github-markdown-css'\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u5728\u6807\u7b7e\u4e0a\u6dfb\u52a0 ",(0,i.jsx)(e.code,{children:'class="markdown-body"'})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<template>\n  <article class="markdown-body">\n    <h1>\u5b89\u88c5</h1>\n    <p>\u6253\u5f00\u7ec8\u7aef\u8fd0\u884c\u4e0b\u5217\u547d\u4ee4\uff1a</p>\n    <pre><code>npm install nuomi-ui-vue</code></pre>\n    <p>\u6216</p>\n    <pre><code>yarn add nuomi-ui-vue</code></pre>\n    <p>\u6216</p>\n    <pre><code>pnpm install nuomi-ui-vue</code></pre>\n    <p>\u4e0b\u4e00\u8282\uff1a<a href="#/doc/get-started">\u5f00\u59cb\u4f7f\u7528</a></p>\n  </article>\n</template>\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u652f\u6301\u5f15\u5165-markdown-\u6587\u4ef6",children:"\u652f\u6301\u5f15\u5165 markdown \u6587\u4ef6"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5b89\u88c5 marked"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"pnpm install marked\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u81ea\u5b9a\u4e49 Vite \u63d2\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="nuomi-ui-vue/plugins/md.ts"',children:"import { marked } from 'marked';\n\nexport default function () {\n  return {\n    name: 'vitePluginMd2Vue',\n    transform(code: string, id: string) {\n      if (id.endsWith('.md')) {\n        return {\n          code: `import {h, defineComponent} from \"vue\";\n                const _sfc_md = defineComponent({\n                    name: \"Markdown\",\n                });\n\n                const _sfc_render =() => {\n                    return h(\"div\", {\n                      innerHTML: ${JSON.stringify(marked(code))}, \n                    })\n                };\n\n                _sfc_md.render = _sfc_render\n                export default _sfc_md`,\n          map: null\n        };\n      }\n    }\n  };\n}\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728 vite.config.ts \u4e2d\u5f15\u5165\u81ea\u5b9a\u4e49\u7684\u63d2\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="vite.config.ts"',children:"import { fileURLToPath, URL } from 'node:url'\n\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\n\n// \u5f15\u5165 md \u63d2\u4ef6\nimport md from './plugins/md';\n\nexport default defineConfig({\n  base: './',\n  plugins: [\n    vue(),\n    md()   // \u4f7f\u7528 md \u63d2\u4ef6\n  ],\n  resolve: {\n    alias: {\n      '@': fileURLToPath(new URL('./src', import.meta.url))\n    }\n  }\n})\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728 vue \u7ec4\u4ef6\u4e2d\u5f15\u5165 markdown \u6587\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<script setup lang="ts">\nimport md from \'@/markdown/install.md\';\n<\/script>\n\n<template>\n  <article v-html="md.render().props.innerHTML" class="markdown-body"></article>\n</template>\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u5173\u4e8e-vite",children:"\u5173\u4e8e Vite"}),"\n",(0,i.jsx)(e.p,{children:"Vite \u5728\u5f00\u53d1\u7684\u65f6\u5019\u7528\u7684\u662f\u6d4f\u89c8\u5668\u7684\u539f\u751f\u80fd\u529b\uff0c\u5728\u90e8\u7f72\u7684\u65f6\u5019\u7528\u7684\u662f rollup \u8fdb\u884c\u6253\u5305\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6240\u4ee5\u6709\u65f6\u5019\u9700\u8981\u6ce8\u610f\uff0c\u6709\u7684\u529f\u80fd\u5728\u5f00\u53d1\u65f6\u6709\u7528\uff0c\u6253\u5305\u90e8\u7f72\u540e\u53ef\u80fd\u5c31\u6ca1\u7528\u4e86\u3002"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://blog.csdn.net/qq_43651168/article/details/130805092#:~:text=vite%E7%9A%84%E6%89%93%E5%8C%85%E8%BF%87%E7%A8%8B%201%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%88Development%EF%BC%89%EF%BC%9A%20%E5%90%AF%E5%8A%A8Vite%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%9A%E8%BF%90%E8%A1%8C%20npm%20run%20dev%20%E6%88%96%E7%B1%BB%E4%BC%BC%E7%9A%84%E5%91%BD%E4%BB%A4%E5%90%AF%E5%8A%A8Vite%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%82,%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%EF%BC%9A%E8%BF%90%E8%A1%8C%20npm%20run%20build%20%E6%88%96%E7%B1%BB%E4%BC%BC%E7%9A%84%E5%91%BD%E4%BB%A4%EF%BC%8CVite%E4%BC%9A%E6%89%A7%E8%A1%8C%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%E3%80%82%20Rollup%E6%89%93%E5%8C%85%EF%BC%9AVite%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8Rollup%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8C%85%E3%80%82%20Rollup%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%BA%E5%A4%A7%E7%9A%84JavaScript%E6%A8%A1%E5%9D%97%E6%89%93%E5%8C%85%E5%99%A8%EF%BC%8C%E5%AE%83%E5%B0%86%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E6%A8%A1%E5%9D%97%E6%89%93%E5%8C%85%E6%88%90%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AAbundle%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BB%A5%E4%BE%BF%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8%E3%80%82%20",children:"vite\u7684\u6253\u5305\u8fc7\u7a0b\uff1frollup\u662f\u4ec0\u4e48\uff1f"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"markdown-\u6587\u4ef6\u7684\u7c7b\u578b\u58f0\u660e",children:"markdown \u6587\u4ef6\u7684\u7c7b\u578b\u58f0\u660e"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="env.d.ts"',children:"declare module '*.md' {\n  const content: string;\n  export default content;\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5c55\u793a\u6e90\u4ee3\u7801",children:"\u5c55\u793a\u6e90\u4ee3\u7801"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u5b89\u88c5 ",(0,i.jsx)(e.code,{children:"prismjs"}),"\u3001",(0,i.jsx)(e.code,{children:"@vue/compiler-core"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"pnpm install prismjs\npnpm install -D @vue/compiler-core\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u81ea\u5b9a\u4e49 Vite \u63d2\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="nuomi-ui-vue/plugins/vueDemo.ts"',children:"import fs from 'fs';\nimport { baseParse } from '@vue/compiler-core';\n\nconst vueDemoPlugin = {\n  name: 'vue-block-demo',\n  transform(code: string, path: string) {\n    if (!/vue&type=demo/.test(path)) {\n      return;\n    }\n    const filePath = path.split('?')[0];\n    // \u5f02\u6b65\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u5e76\u8f6c\u4e3a string \u7c7b\u578b\n    const file = fs.readFileSync(filePath).toString();\n    // \u5c06\u8bfb\u53d6\u5230\u7684\u6587\u4ef6\u4e2d\u7684\u81ea\u5b9a\u4e49\u5feb\u6e32\u67d3\u4e3a AST\n    const parsed: any = baseParse(file).children.find((n: any) => n.tag === 'demo');\n    // \u8bfb\u53d6\u81ea\u5b9a\u4e49\u6a21\u5757\u4e2d\u7684\u6587\u672c\u5185\u5bb9\n    const title = parsed.children[0].content;\n    // \u5c06\u8bfb\u53d6\u6587\u4ef6\u4e2d\u7684\u81ea\u5b9a\u4e49\u5757\u5207\u5206\uff0c\u5e76\u8f6c\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b\n    const main = file.split(parsed.loc.source).join('').trim();\n    // \u4ee5 JSON \u6570\u636e\u7c7b\u578b\u8fd4\u56de\n    return `export default Component => {\n            Component.__sourceCode = ${JSON.stringify(main)}\n            Component.__sourceCodeTitle = ${JSON.stringify(title)}\n        }`;\n  },\n};\n\nexport default vueDemoPlugin;\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5728 vite.config.ts \u4e2d\u4f7f\u7528\u63d2\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="vite.config.ts"',children:"import { fileURLToPath, URL } from 'node:url'\n\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\n\nimport md from './plugins/md';\n// \u5f15\u5165\u63d2\u4ef6\nimport vueDemo from './plugins/vueDemo';\n\nexport default defineConfig({\n  base: './',\n  plugins: [\n    vue(),\n    md(),\n    vueDemo    // \u4f7f\u7528\u63d2\u4ef6\n  ],\n  resolve: {\n    alias: {\n      '@': fileURLToPath(new URL('./src', import.meta.url))\n    }\n  }\n})\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5b9a\u4e49\u7ec4\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",metastring:'title="src/components/VueDemo"',children:'<script setup lang="ts">\nimport { computed, ref } from \'vue\';\nimport \'prismjs\';\nimport \'prismjs/themes/prism-tomorrow.css\';\nimport NButton from \'@/lib/NButton.vue\';\n\nconst props = defineProps<{\n  component: any\n}>();\n\nconst Prism = (window as any).Prism;\nconst html = computed(() => {\n  return Prism.highlight(props.component.__sourceCode, Prism.languages.html, \'html\');\n});\nconst codeVisible = ref(false);\nconst toggleCode = () => (codeVisible.value = !codeVisible.value);\n<\/script>\n\n<template>\n  <div class="demo">\n    <h2>{{ component.__sourceCodeTitle }}</h2>\n    <div class="demo-component">\n      <component :is="component" />\n    </div>\n    <div class="demo-actions">\n      <n-button @click="toggleCode">{{ codeVisible ? \'\u9690\u85cf\' : \'\u67e5\u770b\' }}\u4ee3\u7801</n-button>\n    </div>\n    <div v-if="codeVisible" class="demo-code">\n      <pre class="language-html" v-html="html" />\n    </div>\n  </div>\n</template>\n\n<style scoped lang="scss">\n$border-color: #d9d9d9;\n\n.demo {\n  border: 1px solid $border-color;\n  margin: 16px 0 32px;\n  > h2 {\n    font-size: 20px;\n    border-bottom: 1px solid $border-color;\n    padding: 8px 16px;\n  }\n  &-component {\n    padding: 16px;\n  }\n  &-actions {\n    border-top: 1px dashed $border-color;\n    padding: 8px 16px;\n  }\n  &-code {\n    border-top: 1px dashed $border-color;\n    overflow: auto;\n    padding: 8px 16px;\n    > pre {\n      font-family: Consolas, "Courier New", Courier, monospace;\n      line-height: 1.1;\n      margin: 0;\n    }\n  }\n}\n</style>\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4f7f\u7528\u7ec4\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:"<script setup lang=\"ts\">\nimport VueDemo from '@/components/VueDemo.vue';\nimport ButtonDemo1 from './ButtonDemo1.vue';\nimport ButtonDemo2 from './ButtonDemo2.vue';\nimport ButtonDemo3 from './ButtonDemo3.vue';\n<\/script>\n\n<template>\n  <h2>Button \u7ec4\u4ef6\u793a\u4f8b</h2>\n  <vue-demo :component=\"ButtonDemo1\" />\n  <vue-demo :component=\"ButtonDemo2\" />\n  <vue-demo :component=\"ButtonDemo3\" />\n</template>\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u4f7f\u7528-rollup-\u6253\u5305\u5e93\u6587\u4ef6ui-\u7ec4\u4ef6",children:"\u4f7f\u7528 rollup \u6253\u5305\u5e93\u6587\u4ef6\uff08UI \u7ec4\u4ef6\uff09"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5bfc\u51fa UI \u7ec4\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="src/lib/index.ts"',children:"export { default as NButton } from './NButton.vue';\n\n// \u76f8\u5f53\u4e8e\n// import NButton from './NButton.vue';\n// export { NButton }\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5b89\u88c5\u63d2\u4ef6\uff0c\u4f9b rollup \u4f7f\u7528"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"pnpm install -D rollup-plugin-esbuild rollup-plugin-vue rollup-plugin-scss sass rollup-plugin-terser\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u521b\u5efa rollup \u6253\u5305\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa rollup.config.js\uff0c\u544a\u8bc9 rollup \u5982\u4f55\u6253\u5305\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="rollup.config.js"',children:"// rollup-plugin-esbuild\uff1a\u5c06 JS/TS \u4ee3\u7801\u8f6c\u6362\u6210\u9ad8\u6548\u7684 JS\uff0c\u5e76\u63d0\u4f9b\u4e86\u538b\u7f29\u4ee3\u7801\u7684\u80fd\u529b\nimport esbuild from 'rollup-plugin-esbuild'\n// rollup-plugin-vue\uff1a\u7528\u4e8e\u5c06 vue \u5355\u6587\u4ef6\u7ec4\u4ef6\u8f6c\u6362\u6210 JS \u6a21\u5757\uff0c\u4ee5\u4fbf\u5728\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\nimport vue from 'rollup-plugin-vue'\n// rollup-plugin-scss\uff1a\u7528\u4e8e\u5c06 SCSS \u8f6c\u6362\u6210 CSS\nimport scss from 'rollup-plugin-scss'\n// sass\uff1a\u7528\u4e8e\u652f\u6301 rollup-plugin-scss \u63d2\u4ef6\nimport dartSass from 'sass'\n// rollup-plugin-terser\uff1a\u7528\u4e8e\u5bf9 JS \u4ee3\u7801\u8fdb\u884c\u538b\u7f29\u548c\u6df7\u6dc6\nimport { terser } from 'rollup-plugin-terser'\n\nexport default {\n  input: 'src/lib/index.ts',\n  output: {\n    globals: {\n      vue: 'Vue'\n    },\n    name: 'nuomi',\n    file: 'dist/lib/nuomi.js',\n    format: 'umd',\n    plugins: [terser()]\n  },\n  plugins: [\n    scss({ fileName: 'nuomi.css', include: /\\.scss$/, sass: dartSass }),\n    vue({ include: /\\.vue$/ }),\n    esbuild({\n      include: /\\.[jt]s$/,\n      minify: process.env.NODE_ENV === 'production',\n      target: 'es2015'\n    }),\n  ],\n};\n"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4f7f\u7528 rollup \u6253\u5305"}),"\n",(0,i.jsx)(e.p,{children:"\u5982\u679c\u6ca1\u6709\u5b89\u88c5 rollup\uff0c\u8bf7\u5148\u5168\u5c40\u5b89\u88c5\uff08\u6216\u8005\u5c40\u90e8\u5b89\u88c5\uff09\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"npm i -g rollup\n\n# OR\nyarn global add rollup\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u7136\u540e\u5728\u547d\u4ee4\u884c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u6253\u5305\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"rollup -c\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u968f\u540e\u5c06\u6253\u5305\u540e\u7684\u4ee3\u7801\u53d1\u5e03\u5230 npm \u5373\u53ef\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"vue2-\u9879\u76ee\u5347\u7ea7\u5230-vue3",children:"Vue2 \u9879\u76ee\u5347\u7ea7\u5230 Vue3"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://originjs.org/guide/tools/vue-codemod/typical-case.html#%E8%BF%81%E7%A7%BB%E6%AD%A5%E9%AA%A4",children:"\u5229\u7528 vue-codemod \u5de5\u5177\u5347\u7ea7\u5230 Vue3"})}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},8972:(n,e,s)=>{s.d(e,{Z:()=>i});const i=s.p+"assets/images/img-8d95c7a3ebf2b18128fae0e29a8272d4.png"},1151:(n,e,s)=>{s.d(e,{Z:()=>o,a:()=>t});var i=s(7294);const l={},r=i.createContext(l);function t(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);