---
sidebar_position: 5
---

# Vue3 核心语法（三）



## defineExpose

`defineExpose` 用于组件向外暴露内部属性和方法。

```ts title="子组件"
const list = reactive<number[]>([4, 5, 6]);
const handle = () => {};

defineExpose({ list, handle });
```

```html title="父组件"
<template>
  <Menu ref="refMenu"></Menu> 
</template>

<script setup lang="ts">
import MenuCom from '../xxxxxxx.vue';

// 注意这儿的 typeof 里面放的是组件名字（MenuCom），不是 ref 的名字，ref 的名字对应开头的变量名（refMenu）
const refMenu = ref<InstanceType<typeof MenuCom>>();

// 访问子组件属性
console.log(refMenu.value.list);
// 调用子组件方法
refMenu.value.handle()
</script>
```





## 定义全局函数和变量

### globalProperties

```js title="Vue2 挂载全局变量和函数"
Vue.prototype.$http = () => {}
```

```js title="Vue3 挂载全局变量和函数"
const app = createApp({})
app.config.globalProperties.$http = () => {}
```

### 过滤器

Vue2 中的过滤器在 Vue3 中已经移除了，我们可以使用全局函数代替 filters。

```js
app.config.globalProperties.$filters = {
  format(str) {
    return `$${str}`
  }
}
```

```js
import { getCurrentInstance } from 'vue'

const app = getCurrentInstance()
console.log(app?.proxy?.$filters.format('js'))
```

